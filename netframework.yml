parameters:
  Solution: ''
  BuildPlatform: 'Any CPU'
  BuildConfiguration: 'Release'

steps:
- task: NuGetToolInstaller@0
  inputs:
    versionSpec: '5.1.0' 

- task: NuGetCommand@2
  displayName: 'NuGet restore'
  inputs:
    command: 'restore'
    restoreSolution: ${{ parameters.Solution }}
    verbosityRestore: detailed
    disableParallelProcessing: false

- task: MSBuild@1
  displayName: Build Solutions
  inputs:
    solution: ${{ parameters.Solution }}
    msbuildArguments: -t:build -v:m
    configuration: ${{ parameters.BuildConfiguration }}
    maximumCpuCount: true
